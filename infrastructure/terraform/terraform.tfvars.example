# Example Terraform Variables File
# Copy this file to terraform.tfvars and fill in your actual values
# IMPORTANT: Never commit terraform.tfvars to version control!

# ============================================================================
# General Configuration
# ============================================================================

project_name = "classla"
environment  = "prod"  # Options: dev, staging, prod
aws_region   = "us-east-1"

# Optional: Additional tags for all resources
tags = {
  Owner       = "your-team-name"
  CostCenter  = "engineering"
  Application = "classla-lms"
}

# ============================================================================
# Networking Configuration
# ============================================================================

vpc_cidr           = "10.0.0.0/16"
availability_zones = ["us-east-1a", "us-east-1b"]

public_subnet_cidrs  = ["10.0.1.0/24", "10.0.2.0/24"]
private_subnet_cidrs = ["10.0.11.0/24", "10.0.12.0/24"]

# NAT Gateway Configuration
enable_nat_gateway = true
single_nat_gateway = false  # Set to true for dev to save costs (~$32/month per NAT)

# VPC Endpoints (reduces NAT Gateway data transfer costs)
enable_vpc_endpoints = true

# ============================================================================
# ECS Configuration
# ============================================================================

# Container resources (adjust based on your application needs)
container_cpu    = 512   # 0.5 vCPU
container_memory = 1024  # 1 GB

# Valid CPU/Memory combinations for Fargate:
# CPU: 256  -> Memory: 512, 1024, 2048
# CPU: 512  -> Memory: 1024, 2048, 3072, 4096
# CPU: 1024 -> Memory: 2048, 3072, 4096, 5120, 6144, 7168, 8192
# CPU: 2048 -> Memory: 4096 to 16384 (in 1024 MB increments)
# CPU: 4096 -> Memory: 8192 to 30720 (in 1024 MB increments)

# ============================================================================
# ALB Configuration
# ============================================================================

# IMPORTANT: Create an ACM certificate first!
# 1. Go to AWS Certificate Manager in your region
# 2. Request a public certificate for your domain
# 3. Validate the certificate (DNS or email validation)
# 4. Copy the certificate ARN here
certificate_arn = "arn:aws:acm:us-east-1:123456789012:certificate/your-certificate-id"

# Health check endpoint (must return 200 OK)
health_check_path = "/health"

# ============================================================================
# Amplify Configuration
# ============================================================================

# GitHub repository (must be accessible by AWS Amplify)
# Format: https://github.com/username/repository
github_repository = "https://github.com/your-username/classla-lms"

# Branch to deploy
github_branch = "main"

# WorkOS Client ID (for frontend authentication)
# Get this from your WorkOS dashboard
workos_client_id = "client_your_workos_client_id"

# Amplify deployment options
enable_amplify_auto_branch = false  # Auto-create branches for feature branches
enable_amplify_pr_preview  = false  # Enable PR preview deployments
amplify_stage              = "PRODUCTION"  # Options: PRODUCTION, BETA, DEVELOPMENT, EXPERIMENTAL

# ============================================================================
# Environment-Specific Examples
# ============================================================================

# Development Environment Example:
# environment          = "dev"
# single_nat_gateway   = true   # Cost savings
# container_cpu        = 256
# container_memory     = 512
# amplify_stage        = "DEVELOPMENT"

# Production Environment Example:
# environment          = "prod"
# single_nat_gateway   = false  # High availability
# container_cpu        = 512
# container_memory     = 1024
# amplify_stage        = "PRODUCTION"
# enable_amplify_pr_preview = false
